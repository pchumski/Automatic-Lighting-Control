Version 4
SHEET 1 2656 780
WIRE 1088 -544 1088 -576
WIRE 1088 -544 960 -544
WIRE 1232 -544 1088 -544
WIRE 960 -496 960 -544
WIRE 1088 -496 1088 -544
WIRE 1232 -496 1232 -544
WIRE -544 -400 -544 -432
WIRE 960 -368 960 -432
WIRE 960 -368 816 -368
WIRE 128 -352 128 -384
WIRE 1232 -352 1232 -432
WIRE 1360 -352 1232 -352
WIRE -544 -272 -544 -320
WIRE 128 -240 128 -272
WIRE 656 -176 656 -288
WIRE 816 -176 816 -368
WIRE 976 -176 976 -224
WIRE 1088 -176 1088 -432
WIRE 1360 -176 1360 -352
WIRE 1248 -160 1248 -224
WIRE 816 -64 816 -96
WIRE 1088 -64 1088 -96
WIRE 1360 -64 1360 -96
WIRE 656 16 656 -96
WIRE 768 16 656 16
WIRE 976 16 976 -96
WIRE 1040 16 976 16
WIRE 1248 16 1248 -80
WIRE 1312 16 1248 16
WIRE 656 32 656 16
WIRE 976 48 976 16
WIRE 1248 48 1248 16
WIRE -640 64 -640 32
WIRE -144 64 -144 32
WIRE -640 192 -640 144
WIRE -144 192 -144 144
WIRE 656 192 656 112
WIRE 816 192 816 32
WIRE 816 192 656 192
WIRE 976 192 976 128
WIRE 976 192 816 192
WIRE 1088 192 1088 32
WIRE 1088 192 976 192
WIRE 1248 192 1248 128
WIRE 1248 192 1088 192
WIRE 1360 192 1360 32
WIRE 1360 192 1248 192
WIRE 1088 256 1088 192
FLAG 1088 256 0
FLAG 1088 -576 +5V
FLAG -144 192 0
FLAG 656 -288 TIMx_CH1
FLAG -144 32 TIMx_CH3
FLAG 976 -224 TIMx_CH2
FLAG 1248 -224 TIMx_CH3
FLAG 128 -240 0
FLAG 128 -384 +5V
FLAG -640 192 0
FLAG -640 32 TIMx_CH2
FLAG -544 -272 0
FLAG -544 -432 TIMx_CH1
SYMBOL res 800 -192 R0
SYMATTR InstName R1
SYMATTR Value 120
SYMBOL res 1072 -192 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL res 1344 -192 R0
SYMATTR InstName R3
SYMATTR Value 78.75
SYMBOL LED 944 -496 R0
SYMATTR InstName D1
SYMATTR Value LEDR
SYMBOL LED 1072 -496 R0
SYMATTR InstName D2
SYMATTR Value LEDG
SYMBOL LED 1216 -496 R0
SYMATTR InstName D3
SYMATTR Value LEDB
SYMBOL res 640 16 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 640 -192 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 960 32 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 960 -192 R0
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL res 1232 32 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res 1232 -176 R0
SYMATTR InstName R9
SYMATTR Value 100
SYMBOL nmos 768 -64 R0
SYMATTR InstName M1
SYMATTR Value 2N7000
SYMBOL nmos 1040 -64 R0
SYMATTR InstName M2
SYMATTR Value 2N7000
SYMBOL nmos 1312 -64 R0
SYMATTR InstName M3
SYMATTR Value 2N7000
SYMBOL voltage -144 48 R0
WINDOW 3 28 97 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5V 0 10n 10n {d3} {1/f1})
SYMATTR InstName V5
SYMBOL voltage 128 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -640 48 R0
WINDOW 3 28 97 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5V 0 10n 10n {d2} {1/f1})
SYMATTR InstName V2
SYMBOL voltage -544 -416 R0
WINDOW 3 28 97 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5V 0 10n 10n {d1} {1/f1})
SYMATTR InstName V3
TEXT 592 400 Left 2 !.model 2N7000 VDMOS(Rg=3 Vto=3 Rd=0 Rs=.75 Rb=.14 Kp=.17 mtriode=1.25 Cgdmax=80p Cgdmin=12p Cgs=50p Cjo=50p Is=.04p mfg=Fairchild Vds=60 Ron=5 Qg=.223n)
TEXT 192 168 Left 1 ;Polarity: LOW
TEXT -208 424 Left 2 !.tran 100m
TEXT -72 232 Left 2 !.param f1 1k
TEXT -72 264 Left 2 !.param T 1/f1
TEXT -72 304 Left 2 !.param d3 T*50/100
TEXT -304 168 Left 1 ;Polarity: LOW
TEXT -568 304 Left 2 !.param d2 T*50/100
TEXT -208 -296 Left 1 ;Polarity: LOW
TEXT -472 -160 Left 2 !.param d1 T*50/100
TEXT 624 336 Left 2 !.model LEDR D(Ron=1 Roff=1Meg Vfwd=2 Vrev=5)
TEXT 1256 336 Left 2 !.model LEDB D(Ron=1 Roff=1Meg Vfwd=3 Vrev=5)
TEXT 1880 336 Left 2 !.model LEDG D(Ron=1 Roff=1Meg Vfwd=2.5 Vrev=5)
